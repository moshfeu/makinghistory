(function(n,t){jPlayerPlaylist=function(t,i,r){var u=this;this.current=0;this.loop=!1;this.shuffled=!1;this.removing=!1;this.cssSelector=n.extend({},this._cssSelector,t);this.options=n.extend(!0,{keyBindings:{next:{key:221,fn:function(){u.next()}},previous:{key:219,fn:function(){u.previous()}},shuffle:{key:83,fn:function(){u.shuffle()}}},stateClass:{shuffled:"jp-state-shuffled"}},this._options,r);this.playlist=[];this.original=[];this._initPlaylist(i);this.cssSelector.details=this.cssSelector.cssSelectorAncestor+" .jp-details";this.cssSelector.playlist=this.cssSelector.cssSelectorAncestor+" .jp-playlist";this.cssSelector.next=this.cssSelector.cssSelectorAncestor+" .jp-next";this.cssSelector.previous=this.cssSelector.cssSelectorAncestor+" .jp-previous";this.cssSelector.shuffle=this.cssSelector.cssSelectorAncestor+" .jp-shuffle";this.cssSelector.shuffleOff=this.cssSelector.cssSelectorAncestor+" .jp-shuffle-off";this.options.cssSelectorAncestor=this.cssSelector.cssSelectorAncestor;this.options.repeat=function(n){u.loop=n.jPlayer.options.loop};n(this.cssSelector.jPlayer).bind(n.jPlayer.event.ready,function(){u._init()});n(this.cssSelector.jPlayer).bind(n.jPlayer.event.ended,function(){u.next()});n(this.cssSelector.jPlayer).bind(n.jPlayer.event.play,function(){n(this).jPlayer("pauseOthers")});n(this.cssSelector.jPlayer).bind(n.jPlayer.event.resize,function(t){t.jPlayer.options.fullScreen?n(u.cssSelector.details).show():n(u.cssSelector.details).hide()});n(this.cssSelector.previous).click(function(n){n.preventDefault();u.previous();u.blur(this)});n(this.cssSelector.next).click(function(n){n.preventDefault();u.next();u.blur(this)});n(this.cssSelector.shuffle).click(function(t){t.preventDefault();u.shuffled&&n(u.cssSelector.jPlayer).jPlayer("option","useStateClassSkin")?u.shuffle(!1):u.shuffle(!0);u.blur(this)});n(this.cssSelector.shuffleOff).click(function(n){n.preventDefault();u.shuffle(!1);u.blur(this)}).hide();this.options.fullScreen||n(this.cssSelector.details).hide();n(this.cssSelector.playlist+" ul").empty();this._createItemHandlers();n(this.cssSelector.jPlayer).jPlayer(this.options)};jPlayerPlaylist.prototype={_cssSelector:{jPlayer:"#jquery_jplayer_1",cssSelectorAncestor:"#jp_container_1"},_options:{playlistOptions:{autoPlay:!1,loopOnPrevious:!1,shuffleOnLoop:!0,enableRemoveControls:!1,displayTime:"slow",addTime:"fast",removeTime:"fast",shuffleTime:"slow",itemClass:"jp-playlist-item",freeGroupClass:"jp-free-media",freeItemClass:"jp-playlist-item-free",removeItemClass:"jp-playlist-item-remove"}},option:function(n,i){if(i===t)return this.options.playlistOptions[n];this.options.playlistOptions[n]=i;switch(n){case"enableRemoveControls":this._updateControls();break;case"itemClass":case"freeGroupClass":case"freeItemClass":case"removeItemClass":this._refresh(!0);this._createItemHandlers()}return this},_init:function(){var n=this;this._refresh(function(){n.options.playlistOptions.autoPlay?n.play(n.current):n.select(n.current)})},_initPlaylist:function(t){this.current=0;this.shuffled=!1;this.removing=!1;this.original=n.extend(!0,[],t);this._originalPlaylist()},_originalPlaylist:function(){var t=this;this.playlist=[];n.each(this.original,function(n){t.playlist[n]=t.original[n]})},_refresh:function(t){var i=this,r;t&&!n.isFunction(t)?(n(this.cssSelector.playlist+" ul").empty(),n.each(this.playlist,function(t){n(i.cssSelector.playlist+" ul").append(i._createListItem(i.playlist[t]))}),this._updateControls()):(r=n(this.cssSelector.playlist+" ul").children().length?this.options.playlistOptions.displayTime:0,n(this.cssSelector.playlist+" ul").slideUp(r,function(){var r=n(this);n(this).empty();n.each(i.playlist,function(n){r.append(i._createListItem(i.playlist[n]))});i._updateControls();n.isFunction(t)&&t();i.playlist.length?n(this).slideDown(i.options.playlistOptions.displayTime):n(this).show()}))},_createListItem:function(t){var u=this,i="<li><div>",r;return i+="<a href='javascript:;' class='"+this.options.playlistOptions.removeItemClass+"'>&times;<\/a>",t.free&&(r=!0,i+="<span class='"+this.options.playlistOptions.freeGroupClass+"'>(",n.each(t,function(t,f){n.jPlayer.prototype.format[t]&&(r?r=!1:i+=" | ",i+="<a class='"+u.options.playlistOptions.freeItemClass+"' href='"+f+"' tabindex='-1'>"+t+"<\/a>")}),i+=")<\/span>"),i+="<a href='javascript:;' class='"+this.options.playlistOptions.itemClass+"' tabindex='0'>"+t.title+(t.artist?" <span class='jp-artist'>by "+t.artist+"<\/span>":"")+"<\/a>",i+="<\/div><\/li>"},_createItemHandlers:function(){var t=this;n(this.cssSelector.playlist).off("click","a."+this.options.playlistOptions.itemClass).on("click","a."+this.options.playlistOptions.itemClass,function(i){i.preventDefault();var r=n(this).parent().parent().index();t.current!==r?t.play(r):n(t.cssSelector.jPlayer).jPlayer("play");t.blur(this)});n(this.cssSelector.playlist).off("click","a."+this.options.playlistOptions.freeItemClass).on("click","a."+this.options.playlistOptions.freeItemClass,function(i){i.preventDefault();n(this).parent().parent().find("."+t.options.playlistOptions.itemClass).click();t.blur(this)});n(this.cssSelector.playlist).off("click","a."+this.options.playlistOptions.removeItemClass).on("click","a."+this.options.playlistOptions.removeItemClass,function(i){i.preventDefault();var r=n(this).parent().parent().index();t.remove(r);t.blur(this)})},_updateControls:function(){this.options.playlistOptions.enableRemoveControls?n(this.cssSelector.playlist+" ."+this.options.playlistOptions.removeItemClass).show():n(this.cssSelector.playlist+" ."+this.options.playlistOptions.removeItemClass).hide();this.shuffled?n(this.cssSelector.jPlayer).jPlayer("addStateClass","shuffled"):n(this.cssSelector.jPlayer).jPlayer("removeStateClass","shuffled");n(this.cssSelector.shuffle).length&&n(this.cssSelector.shuffleOff).length&&(this.shuffled?(n(this.cssSelector.shuffleOff).show(),n(this.cssSelector.shuffle).hide()):(n(this.cssSelector.shuffleOff).hide(),n(this.cssSelector.shuffle).show()))},_highlight:function(i){this.playlist.length&&i!==t&&(n(this.cssSelector.playlist+" .jp-playlist-current").removeClass("jp-playlist-current"),n(this.cssSelector.playlist+" li:nth-child("+(i+1)+")").addClass("jp-playlist-current").find(".jp-playlist-item").addClass("jp-playlist-current"))},setPlaylist:function(n){this._initPlaylist(n);this._init()},add:function(t,i){n(this.cssSelector.playlist+" ul").append(this._createListItem(t)).find("li:last-child").hide().slideDown(this.options.playlistOptions.addTime);this._updateControls();this.original.push(t);this.playlist.push(t);i?this.play(this.playlist.length-1):this.original.length===1&&this.select(0)},remove:function(i){var r=this;return i===t?(this._initPlaylist([]),this._refresh(function(){n(r.cssSelector.jPlayer).jPlayer("clearMedia")}),!0):this.removing?!1:(i=i<0?r.original.length+i:i,0<=i&&i<this.playlist.length&&(this.removing=!0,n(this.cssSelector.playlist+" li:nth-child("+(i+1)+")").slideUp(this.options.playlistOptions.removeTime,function(){if(n(this).remove(),r.shuffled){var t=r.playlist[i];n.each(r.original,function(n){if(r.original[n]===t)return r.original.splice(n,1),!1});r.playlist.splice(i,1)}else r.original.splice(i,1),r.playlist.splice(i,1);r.original.length?i===r.current?(r.current=i<r.original.length?r.current:r.original.length-1,r.select(r.current)):i<r.current&&r.current--:(n(r.cssSelector.jPlayer).jPlayer("clearMedia"),r.current=0,r.shuffled=!1,r._updateControls());r.removing=!1})),!0)},select:function(t){t=t<0?this.original.length+t:t;0<=t&&t<this.playlist.length?(this.current=t,this._highlight(t),n(this.cssSelector.jPlayer).jPlayer("setMedia",this.playlist[this.current])):this.current=0},play:function(i){i=i<0?this.original.length+i:i;0<=i&&i<this.playlist.length?this.playlist.length&&(this.select(i),n(this.cssSelector.jPlayer).jPlayer("play")):i===t&&n(this.cssSelector.jPlayer).jPlayer("play")},pause:function(){n(this.cssSelector.jPlayer).jPlayer("pause")},next:function(){var n=this.current+1<this.playlist.length?this.current+1:0;this.loop?n===0&&this.shuffled&&this.options.playlistOptions.shuffleOnLoop&&this.playlist.length>1?this.shuffle(!0,!0):this.play(n):n>0&&this.play(n)},previous:function(){var n=this.current-1>=0?this.current-1:this.playlist.length-1;(this.loop&&this.options.playlistOptions.loopOnPrevious||n<this.playlist.length-1)&&this.play(n)},shuffle:function(i,r){var u=this;i===t&&(i=!this.shuffled);(i||i!==this.shuffled)&&n(this.cssSelector.playlist+" ul").slideUp(this.options.playlistOptions.shuffleTime,function(){u.shuffled=i;i?u.playlist.sort(function(){return.5-Math.random()}):u._originalPlaylist();u._refresh(!0);r||!n(u.cssSelector.jPlayer).data("jPlayer").status.paused?u.play(0):u.select(0);n(this).slideDown(u.options.playlistOptions.shuffleTime)})},blur:function(t){n(this.cssSelector.jPlayer).jPlayer("option","autoBlur")&&n(t).blur()}}})(jQuery);
/*
//# sourceMappingURL=jplayer.playlist.min.js.map
*/